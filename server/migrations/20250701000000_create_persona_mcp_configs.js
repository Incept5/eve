exports.up=function(e){return e.schema.createTable("eve_persona_mcp_configs",(function(n){n.string("id",26).primary(),n.string("user_id",255).notNullable(),n.string("name",255).notNullable(),n.text("description").nullable(),n.json("mcp_servers").notNullable(),n.boolean("is_active").defaultTo(!0),n.timestamp("created_at").defaultTo(e.fn.now()),n.timestamp("updated_at").defaultTo(e.fn.now()),n.unique(["user_id","name"]),n.index("user_id"),n.index(["user_id","is_active"])})).then((()=>e.schema.alterTable("eve_custom_personas",(function(e){e.boolean("use_custom_mcp_config").defaultTo(!1),e.string("mcp_config_id",26).nullable(),e.foreign("mcp_config_id").references("id").inTable("eve_persona_mcp_configs").onDelete("SET NULL"),e.index("mcp_config_id")}))))},exports.down=function(e){return e.schema.alterTable("eve_custom_personas",(function(e){e.dropForeign("mcp_config_id"),e.dropColumn("use_custom_mcp_config"),e.dropColumn("mcp_config_id")})).then((()=>e.schema.dropTable("eve_persona_mcp_configs")))};