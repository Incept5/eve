exports.up=function(e){return e.schema.createTable("eve_custom_personas",(function(t){t.string("id",26).primary(),t.string("user_id",255).notNullable(),t.string("name",255).notNullable(),t.text("system_prompt").notNullable(),t.json("enabled_tools").notNullable(),t.boolean("is_active").defaultTo(!0),t.text("enabled_optional_components").nullable(),t.timestamp("created_at").defaultTo(e.fn.now()),t.timestamp("updated_at").defaultTo(e.fn.now()),t.unique(["user_id","name"]),t.index("user_id"),t.index(["user_id","is_active"])}))},exports.down=function(e){return e.schema.dropTable("eve_custom_personas")};