exports.up=async function(a){await a.schema.hasColumn("eve_task_usage","is_valid")||await a.schema.table("eve_task_usage",(a=>{a.boolean("is_valid").defaultTo(!0).notNullable()}));await a.raw("SELECT name FROM sqlite_master WHERE type='index' AND name='idx_task_usage_valid'").then((a=>a.length>0))||await a.schema.table("eve_task_usage",(a=>{a.index(["taskId","is_valid","createdAt"],"idx_task_usage_valid")}))},exports.down=async function(a){await a.raw("SELECT name FROM sqlite_master WHERE type='index' AND name='idx_task_usage_valid'").then((a=>a.length>0))&&await a.schema.table("eve_task_usage",(a=>{a.dropIndex(["taskId","is_valid","createdAt"],"idx_task_usage_valid")}));await a.schema.hasColumn("eve_task_usage","is_valid")&&await a.schema.table("eve_task_usage",(a=>{a.dropColumn("is_valid")}))};