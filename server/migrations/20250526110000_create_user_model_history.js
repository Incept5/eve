exports.up=function(e){return e.schema.createTable("user_model_history",(function(t){t.string("id",26).primary(),t.string("userId").notNullable(),t.string("mode").notNullable(),t.string("providerId").notNullable(),t.string("modelId").notNullable(),t.string("modelName").notNullable(),t.boolean("thinkingTokensEnabled").notNullable().defaultTo(!1),t.integer("thinkingTokens").defaultTo(0),t.timestamp("lastUsedAt").defaultTo(e.fn.now()),t.timestamp("createdAt").defaultTo(e.fn.now()),t.timestamp("updatedAt").defaultTo(e.fn.now()),t.unique(["userId","mode","providerId","modelId","thinkingTokensEnabled"],"user_model_history_unique_combination"),t.index(["userId","mode"],"user_model_history_user_mode_idx"),t.index(["userId","mode","lastUsedAt"],"user_model_history_recent_idx"),t.index("lastUsedAt","user_model_history_last_used_idx")}))},exports.down=function(e){return e.schema.dropTableIfExists("user_model_history")};