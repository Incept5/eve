exports.up=function(e){return e.schema.createTable("eve_rules",(function(t){t.string("id").primary(),t.string("name").notNullable(),t.text("content").notNullable(),t.string("source_type").notNullable().comment("repo, user, or eve"),t.string("source_identifier").nullable().comment("filepath for repo rules"),t.boolean("is_editable").defaultTo(!0),t.boolean("is_deletable").defaultTo(!0),t.timestamp("created_at").defaultTo(e.fn.now()),t.timestamp("updated_at").defaultTo(e.fn.now())})).createTable("eve_user_rule_preferences",(function(t){t.string("user_id").notNullable(),t.string("rule_id").notNullable(),t.boolean("is_enabled").defaultTo(!0),t.timestamp("created_at").defaultTo(e.fn.now()),t.timestamp("updated_at").defaultTo(e.fn.now()),t.primary(["user_id","rule_id"])}))},exports.down=function(e){return e.schema.dropTableIfExists("eve_user_rule_preferences").dropTableIfExists("eve_rules")};